{"ast":null,"code":"var _jsxFileName = \"/Users/maeve/Projects/study-buddy-matcher/frontend/src/pages/MessagesPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { MessageCircle, Send, User } from 'lucide-react';\nimport { apiService } from '../services/api';\nimport { useSocket } from '../contexts/SocketContext';\nimport { formatDate } from '../utils/helpers';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MessagesPage = () => {\n  _s();\n  var _chats$chats, _chats$chats2, _selectedChat$buddy, _selectedChat$buddy2, _selectedChat$buddy3, _selectedChat$buddy4, _messages$messages;\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [newMessage, setNewMessage] = useState('');\n  const messagesEndRef = useRef(null);\n  const queryClient = useQueryClient();\n  const {\n    socket,\n    joinChat,\n    leaveChat\n  } = useSocket();\n  const {\n    data: chats,\n    isLoading: chatsLoading\n  } = useQuery('chats', apiService.getChats);\n  const {\n    data: messages,\n    isLoading: messagesLoading\n  } = useQuery(['messages', selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.id], () => apiService.getMessages(selectedChat.id), {\n    enabled: !!selectedChat\n  });\n  const sendMessageMutation = useMutation(({\n    chatId,\n    message\n  }) => apiService.sendMessage(chatId, {\n    message\n  }), {\n    onSuccess: () => {\n      queryClient.invalidateQueries(['messages', selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.id]);\n      setNewMessage('');\n    },\n    onError: () => {\n      toast.error('Failed to send message');\n    }\n  });\n  useEffect(() => {\n    if (selectedChat && socket) {\n      joinChat(selectedChat.id);\n      const handleNewMessage = message => {\n        if (message.chatId === selectedChat.id) {\n          queryClient.invalidateQueries(['messages', selectedChat.id]);\n        }\n      };\n      socket.on('new-message', handleNewMessage);\n      return () => {\n        socket.off('new-message', handleNewMessage);\n        leaveChat(selectedChat.id);\n      };\n    }\n  }, [selectedChat, socket, joinChat, leaveChat, queryClient]);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const handleSendMessage = e => {\n    e.preventDefault();\n    if (newMessage.trim() && selectedChat) {\n      sendMessageMutation.mutate({\n        chatId: selectedChat.id,\n        message: newMessage.trim()\n      });\n    }\n  };\n  const handleChatSelect = chat => {\n    setSelectedChat(chat);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900 mb-2\",\n        children: \"Messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Chat with your study buddies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm overflow-hidden\",\n      style: {\n        height: '600px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex h-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-1/3 border-r border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-b border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900\",\n              children: \"Conversations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-y-auto\",\n            children: chatsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4\",\n              children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this) : (chats === null || chats === void 0 ? void 0 : (_chats$chats = chats.chats) === null || _chats$chats === void 0 ? void 0 : _chats$chats.length) === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 text-center text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                className: \"w-12 h-12 mx-auto mb-3 text-gray-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No conversations yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: \"Start by messaging a study buddy!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this) : chats === null || chats === void 0 ? void 0 : (_chats$chats2 = chats.chats) === null || _chats$chats2 === void 0 ? void 0 : _chats$chats2.map(chat => {\n              var _chat$buddy, _chat$buddy2, _chat$buddy3, _chat$lastMessage;\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleChatSelect(chat),\n                className: `w-full p-4 text-left hover:bg-gray-50 border-b border-gray-100 ${(selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.id) === chat.id ? 'bg-primary-50' : ''}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: ((_chat$buddy = chat.buddy) === null || _chat$buddy === void 0 ? void 0 : _chat$buddy.avatar) || '/default-avatar.png',\n                    alt: (_chat$buddy2 = chat.buddy) === null || _chat$buddy2 === void 0 ? void 0 : _chat$buddy2.name,\n                    className: \"w-10 h-10 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1 min-w-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between mb-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-medium text-gray-900 truncate\",\n                        children: (_chat$buddy3 = chat.buddy) === null || _chat$buddy3 === void 0 ? void 0 : _chat$buddy3.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 117,\n                        columnNumber: 27\n                      }, this), chat.unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"bg-primary-600 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center\",\n                        children: chat.unreadCount\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 121,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600 truncate\",\n                      children: ((_chat$lastMessage = chat.lastMessage) === null || _chat$lastMessage === void 0 ? void 0 : _chat$lastMessage.message) || 'No messages yet'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-400 mt-1\",\n                      children: chat.lastMessage && formatDate(chat.lastMessage.createdAt)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 21\n                }, this)\n              }, chat.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex flex-col\",\n          children: selectedChat ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-b border-gray-200 flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: ((_selectedChat$buddy = selectedChat.buddy) === null || _selectedChat$buddy === void 0 ? void 0 : _selectedChat$buddy.avatar) || '/default-avatar.png',\n                alt: (_selectedChat$buddy2 = selectedChat.buddy) === null || _selectedChat$buddy2 === void 0 ? void 0 : _selectedChat$buddy2.name,\n                className: \"w-10 h-10 rounded-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium text-gray-900\",\n                  children: (_selectedChat$buddy3 = selectedChat.buddy) === null || _selectedChat$buddy3 === void 0 ? void 0 : _selectedChat$buddy3.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-green-600\",\n                  children: (_selectedChat$buddy4 = selectedChat.buddy) !== null && _selectedChat$buddy4 !== void 0 && _selectedChat$buddy4.isOnline ? 'Online' : 'Offline'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 p-4 overflow-y-auto\",\n              children: messagesLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center h-full\",\n                children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [messages === null || messages === void 0 ? void 0 : (_messages$messages = messages.messages) === null || _messages$messages === void 0 ? void 0 : _messages$messages.map(message => {\n                  var _selectedChat$buddy5;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `flex gap-3 ${message.isMine ? 'justify-end' : ''}`,\n                    children: [!message.isMine && /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: ((_selectedChat$buddy5 = selectedChat.buddy) === null || _selectedChat$buddy5 === void 0 ? void 0 : _selectedChat$buddy5.avatar) || '/default-avatar.png',\n                      alt: \"\",\n                      className: \"w-8 h-8 rounded-full\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `p-3 rounded-lg max-w-xs ${message.isMine ? 'bg-primary-600 text-white' : 'bg-gray-100'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm\",\n                        children: message.message\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 182,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-xs mt-1 ${message.isMine ? 'text-primary-200' : 'text-gray-500'}`,\n                        children: formatDate(message.createdAt)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 27\n                    }, this)]\n                  }, message.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 25\n                  }, this);\n                }), /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: messagesEndRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-t border-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSendMessage,\n                className: \"flex gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: newMessage,\n                  onChange: e => setNewMessage(e.target.value),\n                  placeholder: \"Type a message...\",\n                  className: \"flex-1 input-primary\",\n                  disabled: sendMessageMutation.isLoading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: !newMessage.trim() || sendMessageMutation.isLoading,\n                  className: \"btn-primary flex items-center gap-2\",\n                  children: [sendMessageMutation.isLoading ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n                    size: \"sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(Send, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 25\n                  }, this), \"Send\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 flex items-center justify-center text-gray-500\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                className: \"w-12 h-12 mx-auto mb-3 text-gray-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Select a conversation to start messaging\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(MessagesPage, \"vVCNe+sO1dYHSOkQOc/XLbo0qrA=\", false, function () {\n  return [useQueryClient, useSocket, useQuery, useQuery, useMutation];\n});\n_c = MessagesPage;\nexport default MessagesPage;\nvar _c;\n$RefreshReg$(_c, \"MessagesPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useQuery","useMutation","useQueryClient","MessageCircle","Send","User","apiService","useSocket","formatDate","LoadingSpinner","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","MessagesPage","_s","_chats$chats","_chats$chats2","_selectedChat$buddy","_selectedChat$buddy2","_selectedChat$buddy3","_selectedChat$buddy4","_messages$messages","selectedChat","setSelectedChat","newMessage","setNewMessage","messagesEndRef","queryClient","socket","joinChat","leaveChat","data","chats","isLoading","chatsLoading","getChats","messages","messagesLoading","id","getMessages","enabled","sendMessageMutation","chatId","message","sendMessage","onSuccess","invalidateQueries","onError","error","handleNewMessage","on","off","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","e","preventDefault","trim","mutate","handleChatSelect","chat","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","height","length","map","_chat$buddy","_chat$buddy2","_chat$buddy3","_chat$lastMessage","onClick","src","buddy","avatar","alt","name","unreadCount","lastMessage","createdAt","isOnline","_selectedChat$buddy5","isMine","ref","onSubmit","type","value","onChange","target","placeholder","disabled","size","_c","$RefreshReg$"],"sources":["/Users/maeve/Projects/study-buddy-matcher/frontend/src/pages/MessagesPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { MessageCircle, Send, User } from 'lucide-react';\nimport { apiService } from '../services/api';\nimport { useSocket } from '../contexts/SocketContext';\nimport { formatDate } from '../utils/helpers';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport toast from 'react-hot-toast';\n\nconst MessagesPage = () => {\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [newMessage, setNewMessage] = useState('');\n  const messagesEndRef = useRef(null);\n  const queryClient = useQueryClient();\n  const { socket, joinChat, leaveChat } = useSocket();\n\n  const { data: chats, isLoading: chatsLoading } = useQuery('chats', apiService.getChats);\n\n  const { data: messages, isLoading: messagesLoading } = useQuery(\n    ['messages', selectedChat?.id],\n    () => apiService.getMessages(selectedChat.id),\n    { enabled: !!selectedChat }\n  );\n\n  const sendMessageMutation = useMutation(\n    ({ chatId, message }) => apiService.sendMessage(chatId, { message }),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(['messages', selectedChat?.id]);\n        setNewMessage('');\n      },\n      onError: () => {\n        toast.error('Failed to send message');\n      }\n    }\n  );\n\n  useEffect(() => {\n    if (selectedChat && socket) {\n      joinChat(selectedChat.id);\n      \n      const handleNewMessage = (message) => {\n        if (message.chatId === selectedChat.id) {\n          queryClient.invalidateQueries(['messages', selectedChat.id]);\n        }\n      };\n\n      socket.on('new-message', handleNewMessage);\n\n      return () => {\n        socket.off('new-message', handleNewMessage);\n        leaveChat(selectedChat.id);\n      };\n    }\n  }, [selectedChat, socket, joinChat, leaveChat, queryClient]);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const handleSendMessage = (e) => {\n    e.preventDefault();\n    if (newMessage.trim() && selectedChat) {\n      sendMessageMutation.mutate({\n        chatId: selectedChat.id,\n        message: newMessage.trim()\n      });\n    }\n  };\n\n  const handleChatSelect = (chat) => {\n    setSelectedChat(chat);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-center\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Messages</h1>\n        <p className=\"text-gray-600\">Chat with your study buddies</p>\n      </div>\n\n      <div className=\"bg-white rounded-xl shadow-sm overflow-hidden\" style={{ height: '600px' }}>\n        <div className=\"flex h-full\">\n          {/* Chat List */}\n          <div className=\"w-1/3 border-r border-gray-200\">\n            <div className=\"p-4 border-b border-gray-200\">\n              <h3 className=\"font-semibold text-gray-900\">Conversations</h3>\n            </div>\n            <div className=\"overflow-y-auto\">\n              {chatsLoading ? (\n                <div className=\"p-4\">\n                  <LoadingSpinner />\n                </div>\n              ) : chats?.chats?.length === 0 ? (\n                <div className=\"p-4 text-center text-gray-500\">\n                  <MessageCircle className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\n                  <p>No conversations yet</p>\n                  <p className=\"text-sm\">Start by messaging a study buddy!</p>\n                </div>\n              ) : (\n                chats?.chats?.map(chat => (\n                  <button\n                    key={chat.id}\n                    onClick={() => handleChatSelect(chat)}\n                    className={`w-full p-4 text-left hover:bg-gray-50 border-b border-gray-100 ${\n                      selectedChat?.id === chat.id ? 'bg-primary-50' : ''\n                    }`}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <img \n                        src={chat.buddy?.avatar || '/default-avatar.png'} \n                        alt={chat.buddy?.name} \n                        className=\"w-10 h-10 rounded-full\" \n                      />\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center justify-between mb-1\">\n                          <div className=\"font-medium text-gray-900 truncate\">\n                            {chat.buddy?.name}\n                          </div>\n                          {chat.unreadCount > 0 && (\n                            <span className=\"bg-primary-600 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center\">\n                              {chat.unreadCount}\n                            </span>\n                          )}\n                        </div>\n                        <div className=\"text-sm text-gray-600 truncate\">\n                          {chat.lastMessage?.message || 'No messages yet'}\n                        </div>\n                        <div className=\"text-xs text-gray-400 mt-1\">\n                          {chat.lastMessage && formatDate(chat.lastMessage.createdAt)}\n                        </div>\n                      </div>\n                    </div>\n                  </button>\n                ))\n              )}\n            </div>\n          </div>\n\n          {/* Chat Window */}\n          <div className=\"flex-1 flex flex-col\">\n            {selectedChat ? (\n              <>\n                <div className=\"p-4 border-b border-gray-200 flex items-center gap-3\">\n                  <img \n                    src={selectedChat.buddy?.avatar || '/default-avatar.png'} \n                    alt={selectedChat.buddy?.name} \n                    className=\"w-10 h-10 rounded-full\" \n                  />\n                  <div>\n                    <div className=\"font-medium text-gray-900\">{selectedChat.buddy?.name}</div>\n                    <div className=\"text-sm text-green-600\">\n                      {selectedChat.buddy?.isOnline ? 'Online' : 'Offline'}\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex-1 p-4 overflow-y-auto\">\n                  {messagesLoading ? (\n                    <div className=\"flex items-center justify-center h-full\">\n                      <LoadingSpinner />\n                    </div>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {messages?.messages?.map(message => (\n                        <div \n                          key={message.id} \n                          className={`flex gap-3 ${message.isMine ? 'justify-end' : ''}`}\n                        >\n                          {!message.isMine && (\n                            <img \n                              src={selectedChat.buddy?.avatar || '/default-avatar.png'} \n                              alt=\"\" \n                              className=\"w-8 h-8 rounded-full\" \n                            />\n                          )}\n                          <div className={`p-3 rounded-lg max-w-xs ${\n                            message.isMine \n                              ? 'bg-primary-600 text-white' \n                              : 'bg-gray-100'\n                          }`}>\n                            <div className=\"text-sm\">{message.message}</div>\n                            <div className={`text-xs mt-1 ${\n                              message.isMine ? 'text-primary-200' : 'text-gray-500'\n                            }`}>\n                              {formatDate(message.createdAt)}\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                      <div ref={messagesEndRef} />\n                    </div>\n                  )}\n                </div>\n                \n                <div className=\"p-4 border-t border-gray-200\">\n                  <form onSubmit={handleSendMessage} className=\"flex gap-3\">\n                    <input\n                      type=\"text\"\n                      value={newMessage}\n                      onChange={(e) => setNewMessage(e.target.value)}\n                      placeholder=\"Type a message...\"\n                      className=\"flex-1 input-primary\"\n                      disabled={sendMessageMutation.isLoading}\n                    />\n                    <button\n                      type=\"submit\"\n                      disabled={!newMessage.trim() || sendMessageMutation.isLoading}\n                      className=\"btn-primary flex items-center gap-2\"\n                    >\n                      {sendMessageMutation.isLoading ? (\n                        <LoadingSpinner size=\"sm\" />\n                      ) : (\n                        <Send className=\"w-4 h-4\" />\n                      )}\n                      Send\n                    </button>\n                  </form>\n                </div>\n              </>\n            ) : (\n              <div className=\"flex-1 flex items-center justify-center text-gray-500\">\n                <div className=\"text-center\">\n                  <MessageCircle className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\n                  <p>Select a conversation to start messaging</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}